/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package me.okkun.uria

import com.okkun.common.domain.model.CommandType
import com.okkun.common.domain.service.CommandServiceImpl
import com.okkun.common.utils.exception.PhoenixException
import me.okkun.uria.domain.service.AddService
import me.okkun.uria.domain.service.InitService
import me.okkun.uria.domain.service.MakeService
import me.okkun.uria.utils.exception.UriaException

fun main(args: Array<String>) {
    try {
        val commandService = CommandServiceImpl()
        val command = commandService.command(args)
        when (command.type) {
            CommandType.INIT -> {
                val initService = InitService(args)
                initService.execute()
            }
            CommandType.ADD -> {
                val addService = AddService(args)
                addService.execute()
            }
            CommandType.MAKE -> {
                val makeService = MakeService(args)
                makeService.execute()
            }
        }
        println("完了しました!!")
    } catch (e: UriaException) {
        println(e.message)
    } catch (e: PhoenixException) {
        println(e.message)
    }
}
