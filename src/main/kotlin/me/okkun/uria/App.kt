/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package me.okkun.uria

import me.okkun.uria.domain.service.AddService
import me.okkun.uria.domain.service.InitService
import me.okkun.uria.domain.service.MakeService
import me.okkun.uria.utils.cli.Command
import me.okkun.uria.utils.cli.CommandType
import me.okkun.uria.utils.exception.UriaException

fun main(args: Array<String>) {
    try {
        val command = Command(args.getOrNull(0))
        when (command.getType()) {
            CommandType.INIT -> {
                val initService = InitService(args)
                initService.execute()
            }
            CommandType.ADD -> {
                val addService = AddService(args)
                addService.execute(args.getOrNull(1))
            }
            CommandType.MAKE -> {
                val makeService = MakeService(args)
                makeService.execute()
            }
            CommandType.OTHER -> {
            }
        }
    } catch (e: UriaException) {
        println(e.message)
    }
}
